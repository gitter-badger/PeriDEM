<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PeriDEM: Peridynamics-based discrete element method (PeriDEM) model of granular systems</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="doxy_logo.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PeriDEM
   &#160;<span id="projectnumber">0.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('index.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Peridynamics-based discrete element method (PeriDEM) model of granular systems </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><div class="image">
<img src="https://github.com/prashjha/PeriDEM/blob/main/assets/logo/logo.png"/>
</div>
 <p>Implementation of high-fidelity model of granular media that combines the advantages of peridynamics and discrete element method (DEM). The model has following advantages over existing mechanical models for granular media:</p>
<ul>
<li>handle intra-particle deformation and breakage/damage</li>
<li>handle arbitrary shape of particle. Inter-particle contact is not specific to any shape of particle</li>
<li>tunable inter-particle contact paramters</li>
<li>easy to add different mechanical constitutive laws within peridynamics for individual particle deformation</li>
</ul>
<p>For more details about the model and results, we refer to the paper:</p>
<blockquote class="doxtable">
<p>Prashant K. Jha, Prathamesh S. Desai, Debdeep Bhattacharya, Robert P Lipton (2020). Peridynamics-based discrete element method (PeriDEM) model of granular systems involving breakage of arbitrarily shaped particles. <em>Journal of the Mechanics and Physics of Solids</em>, Volume 151, 2021. Doi <a href="https://doi.org/10.1016/j.jmps.2021.104376">https://doi.org/10.1016/j.jmps.2021.104376</a>. </p>
</blockquote>
<p>Download pdf <a href="https://prashjha.github.io/publication/jha-2020-peridem/jha-2020-periDEM.pdf">here</a>.</p>
<p>Some example cases. For more details, look at the <code>problem_setup.py</code> file or <code>input_0.yaml</code> file in <a href="https://github.com/prashjha/PeriDEM/blob/main/examples/PeriDEM">examples</a>.</p>
<p>To create example input files, the python script is provided. Python script allows parameterization of various modeling, geometrical parameters, and creating <code>.geo</code> files for <code>gmsh</code> and particle locations file. Typically, the input files consists of:</p>
<ul>
<li><code>input.yaml</code> &ndash; the main instruction file for <code>PeriDEM</code> with details about material models, particle geometries, time step, etc</li>
<li><code>particle_locations.csv</code> &ndash; this file provides location and other details of the individual particles. Each row in the file consists of</li>
<li><code>i</code> &ndash; zone id that particle belongs to</li>
<li><code>x</code> &ndash; x-coordinate of the center of the particle. Next two columns are similarly for <code>y</code> and <code>z</code> coordinates</li>
<li><code>r</code> &ndash; radius of the particle</li>
<li><code>o</code> &ndash; orientation in radians. This is used to give particle (particle mesh) a rotation</li>
<li><code>mesh.msh</code> &ndash; mesh file for the reference particle or wall. For example, in <a href="https://github.com/prashjha/PeriDEM/blob/main/examples/PeriDEM/compressive_test/n500_circ_hex/init_config/inp">compressive test</a> example, there are total four mesh files: one each for circular and hexagon shaped particle and one each for fixed and mobile wall</li>
</ul>
<table class="doxtable">
<tr>
<th align="center"><div class="image">
<img src="assets/two_particle_circ_no_damp.gif" width="200"/>
</div>
 </th><th align="center"><div class="image">
<img src="assets/two_particle_circ_damp.gif" width="200"/>
</div>
  </th></tr>
<tr>
<td align="center"><a href="https://github.com/prashjha/PeriDEM/blob/main/examples/PeriDEM/two_particles/circ_no_damp/">Circular without damping</a> </td><td align="center"><a href="https://github.com/prashjha/PeriDEM/blob/main/examples/PeriDEM/two_particles/circ_damp/">Circular without damping</a> </td></tr>
</table>
<table class="doxtable">
<tr>
<th align="center"><div class="image">
<img src="assets/two_particle_circ_diff_material.gif" width="200"/>
</div>
 </th><th align="center"><div class="image">
<img src="assets/two_particle_circ_damp_diff_radius.gif" width="200"/>
</div>
 </th><th align="center"><div class="image">
<img src="assets/two_particle_circ_diff_radius_diff_material.gif" width="200"/>
</div>
  </th></tr>
<tr>
<td align="center"><a href="https://github.com/prashjha/PeriDEM/blob/main/examples/PeriDEM/two_particles/circ_diff_material/">Different materials</a> </td><td align="center"><a href="https://github.com/prashjha/PeriDEM/blob/main/examples/PeriDEM/two_particles/circ_damp_diff_radius/">Different radius</a> </td><td align="center"><a href="https://github.com/prashjha/PeriDEM/blob/main/examples/PeriDEM/two_particles/circ_diff_radius_diff_material/">Different radius different material</a> </td></tr>
</table>
<table class="doxtable">
<tr>
<th align="center"><div class="image">
<img src="https://github.com/prashjha/PeriDEM/blob/main/assets/two_particle_wall_concave_diff_material_diff_size.gif" width="400"/>
</div>
  </th></tr>
<tr>
<td align="center"><a href="https://github.com/prashjha/PeriDEM/blob/main/examples/PeriDEM/two_particles_wall/concave_diff_material_diff_size/">Concave particles</a> </td></tr>
</table>
<p>Setup for this test consists of 502 circular and hexagonal shaped particles of varrying radius and orientation within a rectangle container. The top wall of the container is moving downward with prescribed speed resulting in compression of the particle system. The quantity of interest is the compressive strength of media; it is expected that the moving wall register reaction for with increasing penetration, however, after a certain amount of compression of media, the damage will initiate in individual particles especially those connected by force chain resulting in yielding of the media. For more details, we refer to <a href="https://prashjha.github.io/publication/jha-2020-peridem/">Jha et al 2021</a></p>
<table class="doxtable">
<tr>
<th align="center"><div class="image">
<img src="assets/compressive_test_cir_hex_n500.jpg" width="600"/>
</div>
  </th></tr>
<tr>
<td align="center"><a href="https://github.com/prashjha/PeriDEM/blob/main/examples/PeriDEM/compressive_test/n500_circ_hex/">Compressive test setup</a> </td></tr>
</table>
<table class="doxtable">
<tr>
<th align="center"><div class="image">
<img src="assets/compressive_test_reaction_force_n500.jpg" width="600"/>
</div>
  </th></tr>
<tr>
<td align="center"><b>Top</b>: Plot of reaction force per unit area on top wall. <b>Bottom</b>: Particle state at four times. Color shows the damage at nodes. Damage 1 or above indicates the presence of broken bonds in the neighborhood of a node. </td></tr>
</table>
<table class="doxtable">
<tr>
<th align="center"><div class="image">
<img src="https://github.com/prashjha/PeriDEM/blob/main/assets/compressive_test.gif" width="600"/>
</div>
  </th></tr>
<tr>
<td align="center">Compressive test simulation </td></tr>
</table>
<p>Core dependencies for building the executible:</p>
<ul>
<li>cmake</li>
<li>boost</li>
<li>hwloc</li>
<li>jemalloc</li>
<li>hpx</li>
<li>vtk</li>
<li>flann</li>
<li>pcl</li>
<li>yaml</li>
<li>fmt (included as external library in the code)</li>
</ul>
<p>Dependencies for running the examples:</p>
<ul>
<li>gmsh</li>
<li>python3</li>
<li>numpy</li>
</ul>
<p>If all the libraries are installed in global space, commands for building the code is as simple as </p><div class="fragment"><div class="line">cmake   -DEnable_Documentation=ON \</div><div class="line">        -DEnable_Tests=ON \</div><div class="line">        -DCMAKE_BUILD_TYPE=Release \</div><div class="line">        &lt;PeriDEM source directory&gt;</div><div class="line"></div><div class="line">make -j 4</div></div><!-- fragment --><p>If libraries such as hpx, pcl are installed in custom paths, we will write </p><div class="fragment"><div class="line">cmake   -DHPX_DIR=&quot;&lt;hpx directory&gt;/lib/cmake/HPX&quot; \</div><div class="line">        -DPCL_DIR=&quot;&lt;pcl directory&gt;&quot; \</div><div class="line">        -DEnable_Documentation=ON \</div><div class="line">        -DEnable_Tests=ON \</div><div class="line">        -DCMAKE_BUILD_TYPE=Release \</div><div class="line">        &lt;PeriDEM source directory&gt;</div><div class="line"></div><div class="line">make -j 4</div></div><!-- fragment --><ol type="1">
<li>Install following dependencies <div class="fragment"><div class="line">sudo apt-get install libboost-dev libvtk7-dev \</div><div class="line">         libyaml-cpp-dev libhwloc-dev libjemalloc-dev libflann-dev</div></div><!-- fragment --></li>
<li>Build hpx and pcl. See shell scripts <a href="https://github.com/prashjha/PeriDEM/blob/main/tools/script/docker/u1804-pd/install.sh">ubuntu 18.04</a> and <a href="https://github.com/prashjha/PeriDEM/blob/main/tools/script/docker/u2004-pd/install.sh">ubuntu 20.04</a> For mac too the steps will be same assuming all other dependencies are installed using brew.</li>
<li>Build peridem <a href="https://github.com/prashjha/PeriDEM/blob/main/tools/script/build_scripts/ubuntu-18.04/install_peridem.sh">see script</a> <div class="fragment"><div class="line">cmake   -DHPX_DIR=&quot;&lt;hpx directory&gt;/lib/cmake/HPX&quot; \</div><div class="line">        -DPCL_DIR=&quot;&lt;pcl directory&gt;&quot; \</div><div class="line">        -DEnable_Documentation=ON \</div><div class="line">        -DEnable_Tests=ON \</div><div class="line">        -DCMAKE_BUILD_TYPE=Release \</div><div class="line">        &lt;PeriDEM source directory&gt;</div><div class="line"></div><div class="line">make -j 4</div></div><!-- fragment --></li>
<li>Running the simulation. Assuming that the input file is <code>input.yaml</code> and all other files such as <code>.msh</code> file for particle and wall and particle locations file are created and their filenames with paths are provided in the <code>input.yaml</code> file, we will run the problem (using 4 threads)</li>
</ol>
<div class="fragment"><div class="line">&lt;path of PeriDEM&gt;/bin/PeriDEM -i input.yaml --hpx:threads=4</div></div><!-- fragment --><p>Some shell scripts are provided that may help in building the code on ubuntu 18.04, 20.04, and mac.</p>
<p>We also provide the docker image of the peridem code. The docker image is built using the three layers</p>
<ul>
<li>layer 1 (u1804-base or u2004-base) &ndash; base ubuntu 18.04 or ubuntu 20.04 with some essential libraries installed</li>
<li>layer 2 (u1804-pd or u2004-pd) &ndash; built hpx and pcl on layer 1</li>
<li>layer 3 (PeriDEM) &ndash; built PeriDEM on layer 2</li>
</ul>
<p>Dockerfile associated to all layers listed above can be found in <a href="https://github.com/prashjha/PeriDEM/blob/main/tools/script/docker">build scripts</a>. Image corresponding to layer 2 above can be downloaded from the dockerhub:</p>
<ul>
<li>for ubuntu 18.04<ul>
<li>link: <a href="https://hub.docker.com/r/prashjha/u1804-pd">https://hub.docker.com/r/prashjha/u1804-pd</a></li>
<li><code>docker pull prashjha/u1804-pd</code></li>
</ul>
</li>
<li>for ubuntu 20.04<ul>
<li>link: <a href="https://hub.docker.com/r/prashjha/u2004-pd">https://hub.docker.com/r/prashjha/u2004-pd</a></li>
<li><code>docker pull prashjha/u2004-pd</code></li>
</ul>
</li>
</ul>
<ul>
<li><a href="https://prashjha.github.io/">Prashant K. Jha</a> (<a href="#" onclick="location.href='mai'+'lto:'+'pjh'+'a.'+'sci'+'@g'+'mai'+'l.'+'com'; return false;">pjha.<span style="display: none;">.nosp@m.</span>sci@<span style="display: none;">.nosp@m.</span>gmail<span style="display: none;">.nosp@m.</span>.com</a>, <a href="#" onclick="location.href='mai'+'lto:'+'pjh'+'a@'+'ute'+'xa'+'s.e'+'du'; return false;">pjha@<span style="display: none;">.nosp@m.</span>utex<span style="display: none;">.nosp@m.</span>as.ed<span style="display: none;">.nosp@m.</span>u</a>) </li>
</ul>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
